id: cms-data-visualizer-plugin
name: CMS Data Visualizer Plugin
version: 1.0.0
extensions:
  - id: visualizer
    type: widget
    name: CMS Data Visualizer
    schema:
      groups:
        - id: api
          title: API
          fields:
            - id: data_source_type
              title: Data Source Type
              type: string
              choices:
                - key: cms_data_visualizer_server
                  label: CMS Data Visualizer Server
                - key: cms_integration_api
                  label: CMS Integration API
            - id: server_base_url
              title: Server Base URL
              type: string
              availableIf:
                field: data_source_type
                type: string
                value: cms_data_visualizer_server
            - id: server_api_key
              title: Server API Key
              type: string
              availableIf:
                field: data_source_type
                type: string
                value: cms_data_visualizer_server
            - id: integration_api_base_url
              title: Integration API Base URL
              type: string
              availableIf:
                field: data_source_type
                type: string
                value: cms_integration_api
            - id: integration_api_key
              title: Integration API Key
              type: string
              availableIf:
                field: data_source_type
                type: string
                value: cms_integration_api
            - id: cms_workspace_id
              title: CMS Workspace ID
              type: string
              availableIf:
                field: data_source_type
                type: string
                value: cms_integration_api
            - id: cms_project_id
              title: CMS Project ID
              type: string
              availableIf:
                field: data_source_type
                type: string
                value: cms_integration_api
            - id: cms_model_id
              title: CMS Model ID
              type: string
              availableIf:
                field: data_source_type
                type: string
                value: cms_integration_api
            - id: value_filters
              title: Filters
              description: "Optional, specify value filters, Example: status===published|reviewed;category===news"
              type: string
              ui: multiline
              availableIf:
                field: data_source_type
                type: string
                value: cms_integration_api
        - id: visualization
          title: Visualization
          fields:
            - id: location_type
              title: Location Type
              type: string
              choices:
                - key: lng_lat_fields
                  label: Longitude & Latitude fields
                - key: lng_lat_array_field
                  label: Longitude & Latitude array field
                - key: geojson_field
                  label: GeoJSON field
            - id: longitude_field_key
              title: Longitude Field Key
              type: string
              availableIf:
                field: location_type
                type: string
                value: lng_lat_fields
            - id: latitude_field_key
              title: Latitude Field Key
              type: string
              availableIf:
                field: location_type
                type: string
                value: lng_lat_fields
            - id: longitude_latitude_array_field_key
              title: Longitude & Latitude Array Field Key
              type: string
              availableIf:
                field: location_type
                type: string
                value: lng_lat_array_field
            - id: geojson_field_key
              title: GeoJSON Field Key
              type: string
              availableIf:
                field: location_type
                type: string
                value: geojson_field
            - id: marker_appearance
              title: Marker Appearance
              type: string
              ui: multiline
        - id: inspector
          title: Inspector
          fields:
            - id: display_fields
              title: Display Fields
              description: "Specify the fields to display in the infobox, please use field keys separated by commas. Left empty to show all fields."
              type: string
              ui: multiline
            - id: title_hidden_fields
              title: Title Hidden Fields
              description: "Specify the fields to hide their titles from the infobox, please use field keys separated by commas."
              type: string
              ui: multiline
            - id: title_field
              title: Title Field
              description: "Specify the field to use as the title in the infobox."
              type: string
  - id: inspector_block
    type: infoboxBlock
    name: CMS Data Inspector Block
